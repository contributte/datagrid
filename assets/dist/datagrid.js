!function(t){var e={};function a(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=10)}([function(t,e){t.exports=jQuery},function(t,e,a){"use strict";var i=a(0),n=a.n(i),d=a(2);e.a=((t,e)=>{if(d.c===d.a){const{init:i,success:n,before:d,complete:r}=e,o=class{constructor(t,e){this.name=e,i&&t.addEventListener("init",({defaultOptions:t})=>{i(t)}),n&&t.addEventListener("success",({xhr:t,response:e,options:a})=>{n(e,a)}),d&&t.addEventListener("before",({xhr:t,method:e,url:a,data:i,options:n})=>{d(t,n)}),r&&t.addEventListener("complete",({xhr:t,error:e,response:a,options:i})=>{r(t,i)})}};a(3).registerExtension(o,t)}d.c===d.b&&n.a.nette.ext(t,e)})},function(t,e,a){"use strict";a.d(e,"b",function(){return d}),a.d(e,"a",function(){return r});var i=a(0),n=a.n(i);const d="NETTE_AJAX",r="NAJA";let o="";try{a(3),o=r}catch(t){if(void 0===n.a.nette)throw"Ublaboo Datagrid requires naja.js or natte-ajax!";o=d}e.c=o},function(t,e){t.exports=naja},function(t,e,a){"use strict";var i=a(0),n=a.n(i),d=a(2);let r=()=>{};d.c===d.a&&(r=(({type:t,data:e,url:i,error:n,success:d})=>{const r=t||"GET";e=e||null,a(3).makeRequest(r,i,e,{}).then(d).catch(n)})),d.c===d.b&&(r=(t=>n.a.nette.ajax(t))),e.a=r},function(t,e){t.exports=Nette},function(t,e,a){},,,,function(t,e,a){"use strict";a.r(e);var i=a(0),n=a.n(i),d=a(4),r=function(){void 0!==n.a.fn.sortable&&n()(".datagrid [data-sortable]").sortable({handle:".handle-sort",items:"tr",axis:"y",update:function(t,e){const a=e.item.closest("tr[data-id]"),i=a.data("id");let r,o=null;a.prev().length&&(r=a.prev().data("id")),a.next().length&&(o=a.next().data("id"));const l=n()(this).data("sortable-url"),s={},c=a.closest(".datagrid").find("tbody").attr("data-sortable-parent-path");s[(c+"-item_id").replace(/^-/,"")]=i,null!==r&&(s[(c+"-prev_id").replace(/^-/,"")]=r),null!==o&&(s[(c+"-next_id").replace(/^-/,"")]=o),Object(d.a)({type:"GET",url:l,data:s,error:t=>alert(t.statusText)})},helper:function(t,e){return e.children().each(function(){return n()(this).width(n()(this).width())}),e}})};const o=t=>{if(t&&t.hasOwnProperty("path"))return t.path;let e=[],a=t.target;for(;a!==document.body&&null!==a;)e.push(a),a=a.parentNode;return e};var l=function(){if(!n.a.fn.selectpicker)return;n()("[data-datagrid-multiselect-id]").each(function(){if(n()(this).hasClass("selectpicker")){n()(this).removeAttr("id");const t=n()(this).data("datagrid-multiselect-id");n()(this).on("loaded.bs.select",function(){n()(this).parent().attr("style","display:none;"),n()(this).parent().find(".hidden").removeClass("hidden").addClass("btn-default btn-secondary")}),n()(this).on("rendered.bs.select",function(){n()(this).parent().attr("id",t)})}})},s=function(){var t;if(t=n()(".selectpicker").first(),n.a.fn.selectpicker)return n.a.fn.selectpicker.defaults={countSelectedText:t.data("i18n-selected"),iconBase:"",tickIcon:t.data("selected-icon-check")}},c=function(){if(void 0!==n()(".datagrid-tree-item-children").sortable)return n()(".datagrid-tree-item-children").sortable({handle:".handle-sort",items:".datagrid-tree-item:not(.datagrid-tree-header)",toleranceElement:"> .datagrid-tree-item-content",connectWith:".datagrid-tree-item-children",update:function(t,e){var a,i,r,o,l,s,c,u,g;n()(".toggle-tree-to-delete").remove(),r=(u=e.item.closest(".datagrid-tree-item[data-id]")).data("id"),c=null,o=null,s=null,u.prev().length&&(c=u.prev().data("id")),u.next().length&&(o=u.next().data("id")),(l=u.parent().closest(".datagrid-tree-item")).length&&(l.find(".datagrid-tree-item-children").first().css({display:"block"}),l.addClass("has-children"),s=l.data("id")),(g=n()(this).data("sortable-url"))&&(l.find("[data-toggle-tree]").first().removeClass("hidden"),(i={})[((a=u.closest(".datagrid-tree").attr("data-sortable-parent-path"))+"-item_id").replace(/^-/,"")]=r,null!==c&&(i[(a+"-prev_id").replace(/^-/,"")]=c),null!==o&&(i[(a+"-next_id").replace(/^-/,"")]=o),i[(a+"-parent_id").replace(/^-/,"")]=s,Object(d.a)({type:"GET",url:g,data:i,error:function(t,e,a){if("abort"!==a)return alert(t.statusText)}}))},stop:function(){return n()(".toggle-tree-to-delete").removeClass("toggle-tree-to-delete")},start:function(t,e){var a;if((a=e.item.parent().closest(".datagrid-tree-item")).length&&2===a.find(".datagrid-tree-item").length)return a.find("[data-toggle-tree]").addClass("toggle-tree-to-delete")}})},u=a(1);Object(u.a)("datagrid.confirm",{before:function(t,e){let a;if(e.nette&&(a=e.nette.el.data("datagrid-confirm")))return confirm(a)}}),Object(u.a)("datagrid.happy",{success:function(){var t,e,a,i,d,r,o,l,s,c,u;for(window.happy&&window.happy.reset(),u=[],r=0,s=(d=n()(".datagrid")).length;r<s;r++){for(e="",l=0,c=(a=d[r].classList).length;l<c;l++)e=e+"."+a[l];1===(t=document.querySelectorAll(e+" input[data-check]:checked")).length&&"toggle-all"===t[0].getAttribute("name")&&(o=document.querySelector(e+" input[name=toggle-all]"))?(o.checked=!1,window.navigator.userAgent.indexOf("MSIE ")?(i=document.createEvent("Event")).initEvent("change",!0,!0):i=new Event("change",{bubbles:!0}),u.push(o.dispatchEvent(i))):u.push(void 0)}return u}}),Object(u.a)("datagrid.sortable",{success:r});var g=a(5),f=a.n(g);Object(u.a)("datagrid.forms",{success:function(){return n()(".datagrid").find("form").each(function(){return f.a.initForm(this)})}});const h=(t,e)=>{var a=[];for(var i in t)if(t.hasOwnProperty(i)){var n=e?e+"["+i+"]":i,d=t[i];if(null!==d&&""!==d)if("object"==typeof d){var r=h(d,n);r&&a.push(r)}else a.push(encodeURIComponent(n)+"="+encodeURIComponent(d))}return a.join("&")};Object(u.a)("datagrid.url",{success:function(t){var e,a,i,n;if(t._datagrid_url&&window.history.pushState&&(e=window.location.protocol+"//"+window.location.host,a=window.location.pathname,n=(i=h(t.state).replace(/&+$/gm,""))?e+a+"?"+i.replace(/\&*$/,""):e+a,n+=window.location.hash,window.location.href!==n))return window.history.pushState({path:n},"",n)}}),Object(u.a)("datagrid.sort",{success:function(t){if(t._datagrid_sort){const e=t._datagrid_sort,a=[];for(let t in e){let i=e[t];a.push(n()("#datagrid-sort-"+t).attr("href",i))}return a}}}),Object(u.a)("datargid.item_detail",{before:function(t,e){var a,i;if(e.nette&&e.nette.el.attr("data-toggle-detail"))return a=e.nette.el.attr("data-toggle-detail"),(i=n()(".item-detail-"+a)).hasClass("loaded")?i.find(".item-detail-content").length?(i.hasClass("toggled")?i.find(".item-detail-content").slideToggle("fast",function(){return i.toggleClass("toggled")}):(i.toggleClass("toggled"),i.find(".item-detail-content").slideToggle("fast")),!1):(i.removeClass("toggled"),!0):i.addClass("loaded")},success:function(t){var e,a;if(t._datagrid_toggle_detail)return e=t._datagrid_toggle_detail,(a=n()(".item-detail-"+e)).toggleClass("toggled"),a.find(".item-detail-content").slideToggle("fast")}});var p=a(2);let m=()=>{};p.c===p.a&&(m=(()=>a(3).load())),p.c===p.b&&(m=(()=>n.a.nette.load()));var b=m;Object(u.a)("datagrid.tree",{before:function(t,e){var a;return!(e.nette&&e.nette.el.attr("data-toggle-tree")&&(e.nette.el.toggleClass("toggle-rotate"),(a=e.nette.el.closest(".datagrid-tree-item").find(".datagrid-tree-item-children").first()).hasClass("loaded")))||(a.slideToggle("fast"),!1)},success:function(t){var e,a,i,d,r,o,l;if(t._datagrid_tree){for(d in i=t._datagrid_tree,(e=n()('.datagrid-tree-item[data-id="'+i+'"]').find(".datagrid-tree-item-children").first()).addClass("loaded"),r=t.snippets)o=r[d],a=n()(o),(l=n()('<div class="datagrid-tree-item" id="'+d+'">')).attr("data-id",a.attr("data-id")),l.append(a),a.data("has-children")&&l.addClass("has-children"),e.append(l);e.addClass("loaded"),e.slideToggle("fast"),b()}return c()}}),Object(u.a)("datagrid.after_inline_edit",{success:function(t){const e=n()(".datagrid-"+t._datagrid_name);t._datagrid_inline_edited?(e.find("tr[data-id="+t._datagrid_inline_edited+"] > td").addClass("edited"),e.find(".datagrid-inline-edit-trigger").removeClass("hidden")):t._datagrid_inline_edit_cancel&&e.find(".datagrid-inline-edit-trigger").removeClass("hidden")}}),Object(u.a)("datagrid-toggle-inline-add",{success:function(t){if(t._datagrid_inline_added)return n()(".datagrid-row-inline-add").find("textarea").html(""),n()(".datagrid-row-inline-add").find("input[type!=submit]").val(""),n()(".datagrid-row-inline-add").addClass("datagrid-row-inline-add-hidden")}}),Object(u.a)("datagrid.filterMultiSelect",{success:function(){if(s(),n.a.fn.selectpicker)return n()(".selectpicker").selectpicker({iconBase:"fa"})}}),Object(u.a)("datagrid.groupActionMultiSelect",{success:l}),Object(u.a)("datagrid.inline-editing",{success:function(t){if(t._datagrid_inline_editing){n()(".datagrid-"+t._datagrid_name).find(".datagrid-inline-edit-trigger").addClass("hidden")}}}),Object(u.a)("datagrid.redraw-item",{success:function(t){if(t._datagrid_redraw_item_class){return n()("tr[data-id="+t._datagrid_redraw_item_id+"]").attr("class",t._datagrid_redraw_item_class)}}}),Object(u.a)("datagrid.reset-filter-by-column",{success:function(t){var e,a,i;if(!t._datagrid_name)return;const d=n()(".datagrid-"+t._datagrid_name);if(d.find("[data-datagrid-reset-filter-by-column]").addClass("hidden"),t.non_empty_filters&&t.non_empty_filters.length){for(let e=0,n=(i=t.non_empty_filters).length;e<n;e++)a=i[e],d.find("[data-datagrid-reset-filter-by-column="+a+"]").removeClass("hidden");e=d.find(".reset-filter").attr("href"),d.find("[data-datagrid-reset-filter-by-column]").each(function(){var i;a=n()(this).attr("data-datagrid-reset-filter-by-column"),i=e.replace("do="+t._datagrid_name+"-resetFilter","do="+t._datagrid_name+"-resetColumnFilter"),i+="&"+t._datagrid_name+"-key="+a,n()(this).attr("href",i)})}}});var v;a(6);n()(document).on("click","[data-datagrid-confirm]:not(.ajax)",function(t){confirm(n()(t.target).closest("a").attr("data-datagrid-confirm"))||(t.stopPropagation(),t.preventDefault())}),n()(document).on("change","select[data-autosubmit-per-page]",function(){var t;return 0===(t=n()(this).parent().find("input[type=submit]")).length&&(t=n()(this).parent().find("button[type=submit]")),t.click()}).on("change","select[data-autosubmit]",function(){return n()(this).closest("form").first().submit()}).on("change","input[data-autosubmit][data-autosubmit-change]",function(){clearTimeout(window.datagrid_autosubmit_timer);const t=n()(this);return window.datagrid_autosubmit_timer=setTimeout(function(){return t.closest("form").first().submit()},200)}).on("keyup","input[data-autosubmit]",function(t){var e,a;if(13===(a=t.which||t.keyCode||0)||!(a>=9&&a<=40||a>=112&&a<=123))return clearTimeout(window.datagrid_autosubmit_timer),e=n()(this),window.datagrid_autosubmit_timer=setTimeout(function(){return e.closest("form").first().submit()},200)}).on("keydown",".datagrid-inline-edit input",function(t){if(13===(t.which||t.keyCode||0))return t.stopPropagation(),t.preventDefault(),n()(this).closest("tr").find('.col-action-inline-edit [name="inline_edit[submit]"]').click()}),n()(document).on("keydown","input[data-datagrid-manualsubmit]",function(t){if(13===(t.which||t.keyCode||0))return t.stopPropagation(),t.preventDefault(),n()(this).closest("form").first().submit()}),v=null,document.addEventListener("click",function(t){var e,a,i,d,r,l,s,c,u,g,f,h,p,m,b,_,y;for(r=0,g=(p=o(t)).length;r<g;r++)if(i=p[r],n()(i).is(".col-checkbox")&&v&&t.shiftKey){if(a=n()(i).closest("tr"),e=(u=v.closest("tr")).closest("tbody").find("tr").toArray(),a.index()>u.index()?y=e.slice(u.index(),a.index()):a.index()<u.index()&&(y=e.slice(a.index()+1,u.index())),!y)return;for(s=0,f=y.length;s<f;s++)_=y[s],(l=n()(_).find(".col-checkbox input[type=checkbox]")[0])&&(l.checked=!0,window.navigator.userAgent.indexOf("MSIE ")?(d=document.createEvent("Event")).initEvent("change",!0,!0):d=new Event("change",{bubbles:!0}),l.dispatchEvent(d))}for(b=[],c=0,h=(m=o(t)).length;c<h;c++)i=m[c],n()(i).is(".col-checkbox")?b.push(v=n()(i)):b.push(void 0);return b}),document.addEventListener("change",function(t){var e,a,i,n,d,r,o,l,s,c,u;if((n=t.target.getAttribute("data-check"))&&(e=document.querySelectorAll("input[data-check-all-"+n+"]:checked"),(c=document.querySelector(".datagrid-"+n+' select[name="group_action[group_action]"]'))&&(a=document.querySelector(".datagrid-"+n+" .datagrid-selected-rows-count"),e.length?(c.disabled=!1,u=document.querySelectorAll("input[data-check-all-"+n+"]").length,a&&(a.innerHTML=e.length+"/"+u)):(c.disabled=!0,c.value="",a&&(a.innerHTML=""))),window.navigator.userAgent.indexOf("MSIE ")?(i=document.createEvent("Event")).initEvent("change",!0,!0):i=new Event("change",{bubbles:!0}),c&&c.dispatchEvent(i)),n=t.target.getAttribute("data-check-all")){for(s=[],d=0,l=(o=document.querySelectorAll("input[type=checkbox][data-check-all-"+n+"]")).length;d<l;d++)(r=o[d]).checked=t.target.checked,window.navigator.userAgent.indexOf("MSIE ")?(i=document.createEvent("Event")).initEvent("change",!0,!0):i=new Event("change",{bubbles:!0}),s.push(r.dispatchEvent(i));return s}}),n()(r),n()(c),n()(document).on("click","[data-datagrid-editable-url]",function(t){var e,a,i,r,o,l,s,c,u,g;if(r=n()(this),"a"!==t.target.tagName.toLowerCase()&&!r.hasClass("datagrid-inline-edit")&&!r.hasClass("editing")){for(e in r.addClass("editing"),o=r.html().trim().replace("<br>","\n"),g=r.attr("data-datagrid-editable-value")?r.data("datagrid-editable-value"):o,r.data("originalValue",o),r.data("valueToEdit",g),"textarea"===r.data("datagrid-editable-type")?(c=n()("<textarea>"+g+"</textarea>"),s=parseInt(r.css("padding").replace(/[^-\d\.]/g,""),10),l=(r.outerHeight()-2*s)/Math.round(parseFloat(r.css("line-height"))),c.attr("rows",Math.round(l))):"select"===r.data("datagrid-editable-type")?(c=n()(r.data("datagrid-editable-element"))).find("option").each(function(){if(n()(this).text()===g)return c.find("option[value='"+g+"']").prop("selected",!0)}):(c=n()('<input type="'+r.data("datagrid-editable-type")+'">')).val(g),i=r.data("datagrid-editable-attrs"))a=i[e],c.attr(e,a);return r.removeClass("edited"),r.html(c),u=function(t,e){var a;return(a=e.val())!==t.data("valueToEdit")?Object(d.a)({url:t.data("datagrid-editable-url"),data:{value:a},type:"POST",success:function(e){return"select"===t.data("datagrid-editable-type")?t.html(c.find("option[value='"+a+"']").html()):(e._datagrid_editable_new_value&&(a=e._datagrid_editable_new_value),t.html(a)),t.addClass("edited")},error:function(){return t.html(t.data("originalValue")),t.addClass("edited-error")}}):t.html(t.data("originalValue")),setTimeout(function(){return t.removeClass("editing")},1200)},r.find("input,textarea,select").focus().on("blur",function(){return u(r,n()(this))}).on("keydown",function(t){return"textarea"!==r.data("datagrid-editable-type")&&13===t.which?(t.stopPropagation(),t.preventDefault(),u(r,n()(this))):27===t.which?(t.stopPropagation(),t.preventDefault(),r.removeClass("editing"),r.html(r.data("originalValue"))):void 0}),r.find("select").on("change",function(){return u(r,n()(this))})}}),n()(document).on("click","[data-datagrid-toggle-inline-add]",function(t){t.stopPropagation(),t.preventDefault();const e=n()(this).closest(".datagrid").find(".datagrid-row-inline-add");e.removeClass("datagrid-row-inline-add-hidden"),e.find("input:not([readonly]),textarea:not([readonly])").first().focus()}),n()(document).on("mouseup","[data-datagrid-cancel-inline-add]",function(t){if(1===(t.which||t.keyCode||0))return t.stopPropagation(),t.preventDefault(),n()(".datagrid-row-inline-add").addClass("datagrid-row-inline-add-hidden")}),n()(s),n()(l)}]);